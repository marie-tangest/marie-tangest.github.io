<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GSAP ScrollTrigger - Sticky Project Title & Only Current Slide Description at Full Opacity</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #f5f6fa;
      font-family: sans-serif;
      color: #222;
    }
    .container {
      display: flex;
      min-height: 100vh;
      max-width: 1200px;
      margin: 0 auto;
    }
    .image-frame {
      position: sticky;
      top: 0;
      left: 0;
      width: 44vw;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #111;
      border-top-left-radius: 2rem;
      border-bottom-left-radius: 2rem;
      overflow: hidden;
      min-width: 340px;
      box-shadow: 6px 0 40px -16px #2222;
    }
    .images-holder {
      position: relative;
      width: 90%;
      height: 65vh;
      min-height: 280px;
      max-height: 600px;
      border-radius: 2rem;
      overflow: hidden;
      background: #222;
      box-shadow: 0 8px 32px -6px #0004;
    }
    .project-image {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      left: 0;
      top: 0;
      opacity: 0;
      z-index: 1;
      pointer-events: none;
      will-change: opacity;
      transition: opacity 0.15s;
    }
    .content {
      flex: 1 1 56vw;
      padding: 55vh 3vw;
      min-width: 320px;
    }
    .project {
      margin-bottom: 11rem;
      position: relative; /* So sticky children don't escape parent */
    }
    .project-title {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 2.2rem;
      color: #175bf0;
      letter-spacing: 0.02em;
      position: sticky;
      top: 0;
      z-index: 3;
      background: #f5f6fa;
      box-shadow: 0 2px 10px -6px #2223;
      padding: 1.2rem 0 1.2rem 0.2rem;
      border-top-left-radius: 1.5rem;
      border-top-right-radius: 1.5rem;
      transition: box-shadow 0.2s;
    }
    .slides {
      margin: 0 0 0 1.5rem;
      padding: 0;
      list-style: disc inside;
    }
    .slide {
      font-size: 1.18rem;
      margin-bottom: 15rem;
      background: #fff;
      border-radius: 1rem;
      padding: 1.4rem 1.5rem 1.4rem 2rem;
      box-shadow: 0 2px 14px -6px #aaa4;
      max-width: 40ch;
      transition: box-shadow 0.3s, opacity 0.25s;
      opacity: 0.25;
      height: 25vh;
    }
    .slide.active-desc {
      opacity: 1 !important;
    }
    @media (max-width: 900px) {
      .container { flex-direction: column; }
      .image-frame, .content {
        width: 100vw;
        min-width: unset;
        border-radius: 0;
        max-width: 100vw;
        box-shadow: none;
      }
      .image-frame { height: 55vw; min-height: 200px; }
      .project-title {
        border-radius: 0;
        padding-left: 0.8rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="image-frame">
      <div class="images-holder">
        <!-- 9 images, 3 per project, all hidden initially -->
        <img src="https://picsum.photos/id/1015/800/600" class="project-image" data-project="0" data-slide="0" alt="Project 1 Slide 1">
        <img src="https://picsum.photos/id/1016/800/600" class="project-image" data-project="0" data-slide="1" alt="Project 1 Slide 2">
        <img src="https://picsum.photos/id/1018/800/600" class="project-image" data-project="0" data-slide="2" alt="Project 1 Slide 3">

        <img src="https://picsum.photos/id/1021/800/600" class="project-image" data-project="1" data-slide="0" alt="Project 2 Slide 1">
        <img src="https://picsum.photos/id/1024/800/600" class="project-image" data-project="1" data-slide="1" alt="Project 2 Slide 2">
        <img src="https://picsum.photos/id/1025/800/600" class="project-image" data-project="1" data-slide="2" alt="Project 2 Slide 3">

        <img src="https://picsum.photos/id/1035/800/600" class="project-image" data-project="2" data-slide="0" alt="Project 3 Slide 1">
        <img src="https://picsum.photos/id/1037/800/600" class="project-image" data-project="2" data-slide="1" alt="Project 3 Slide 2">
        <img src="https://picsum.photos/id/1042/800/600" class="project-image" data-project="2" data-slide="2" alt="Project 3 Slide 3">
      </div>
    </div>
    <div class="content">
      <div class="project" data-project="0">
        <div class="project-title">Project One</div>
        <ul class="slides">
          <li class="slide" data-slide="0">Project One: Introduction and overview bulletpoint.</li>
          <li class="slide" data-slide="1">Project One: Core features or main highlight.</li>
          <li class="slide" data-slide="2">Project One: Impact, results, or interesting facts.</li>
        </ul>
      </div>
      <div class="project" data-project="1">
        <div class="project-title">Project Two</div>
        <ul class="slides">
          <li class="slide" data-slide="0">Project Two: Problem statement or starting point.</li>
          <li class="slide" data-slide="1">Project Two: Technical solution or creative process.</li>
          <li class="slide" data-slide="2">Project Two: Takeaways or future outlook.</li>
        </ul>
      </div>
      <div class="project" data-project="2">
        <div class="project-title">Project Three</div>
        <ul class="slides">
          <li class="slide" data-slide="0">Project Three: Initial idea and team introduction.</li>
          <li class="slide" data-slide="1">Project Three: Key challenges faced and solved.</li>
          <li class="slide" data-slide="2">Project Three: Final result and next steps.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- GSAP and ScrollTrigger via CDN -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    // Hide all images except the very first
    document.querySelectorAll('.project-image').forEach(img => img.style.opacity = 0);
    document.querySelector('.project-image[data-project="0"][data-slide="0"]').style.opacity = 1;

    // Set all descriptions to faded, only the very first is full
    document.querySelectorAll('.slide').forEach(slide => slide.classList.remove('active-desc'));
    document.querySelector('.slide[data-slide="0"]').classList.add('active-desc');

    // For each slide, scrubbed crossfade between images as before,
    // PLUS: update active-desc class on bulletpoints as you scroll
    document.querySelectorAll('.project').forEach((projectEl, projectIdx) => {
      const slides = Array.from(projectEl.querySelectorAll('.slide'));
      slides.forEach((slideEl, slideIdx) => {
        // Only crossfade if not the very last slide overall
        let nextImg = document.querySelector(`.project-image[data-project="${projectIdx}"][data-slide="${slideIdx}"]`);
        let prevImg = null;
        if (slideIdx === 0 && projectIdx > 0) {
          prevImg = document.querySelector(`.project-image[data-project="${projectIdx-1}"][data-slide="2"]`);
        } else if (slideIdx > 0) {
          prevImg = document.querySelector(`.project-image[data-project="${projectIdx}"][data-slide="${slideIdx-1}"]`);
        }
        if (prevImg && nextImg) {
          gsap.timeline({
            scrollTrigger: {
              trigger: slideEl,
              start: "top 60%",
              end: "top 30%",
              scrub: true
            }
          })
          .to(prevImg, { opacity: 0, ease: "none" }, 0)
          .to(nextImg, { opacity: 1, ease: "none" }, 0);
        } else if (nextImg && projectIdx === 0 && slideIdx === 0) {
          nextImg.style.opacity = 1;
        }
        // Sticky project titles are CSS only!
        // Create a separate trigger for active description highlighting
        ScrollTrigger.create({
          trigger: slideEl,
          start: "top 50%",
          end: "bottom 50%",
          onEnter: () => updateActiveDesc(slideEl),
          onEnterBack: () => updateActiveDesc(slideEl)
        });
      });
    });

    function updateActiveDesc(activeSlide) {
      document.querySelectorAll('.slide').forEach(slide => {
        slide.classList.toggle('active-desc', slide === activeSlide);
      });
    }
  </script>
</body>
</html>
